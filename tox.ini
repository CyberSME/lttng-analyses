[tox]
minversion = 1.9
envlist = py3,pep8
skipsdist = True

[testenv]
skip_install = True
sitepackages = True
deps = -r{toxinidir}/requirements.txt
       -r{toxinidir}/test-requirements.txt
commands = py.test --cov=lttnganalyses --basetemp={envtmpdir} tests {posargs}

[testenv:noutf8]
setenv =
	LC_ALL=C
commands = py.test --cov=lttnganalyses --basetemp={envtmpdir} tests {posargs}

[testenv:pep8]
commands = flake8 --ignore=E123,E125

[testenv:longregression]
commands = py.test --basetemp={envtmpdir} tests_long_regression {posargs}

[flake8]
# E123, E125 skipped as they are invalid PEP-8.

show-source = True
ignore = E123,E125
builtins = _
exclude=.venv,.git,.tox,dist,doc,*lib/python*,*egg,build,versioneer.py,lttnganalyses/_version.py,tests/__init__.py
